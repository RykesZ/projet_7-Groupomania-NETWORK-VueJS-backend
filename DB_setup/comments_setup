CREATE TABLE comments (
id MEDIUMINT UNSIGNED NOT NULL AUTO_INCREMENT,
text TEXT NOT NULL,
autorId SMALLINT UNSIGNED NOT NULL,
pubOriginId MEDIUMINT UNSIGNED NOT NULL,
date_insertion DATETIME,
date_modification DATETIME,
PRIMARY KEY (id),
UNIQUE (id)
)
ENGINE=INNODB;

DELIMITER |
CREATE TRIGGER before_insert_comments BEFORE INSERT
ON comments FOR EACH ROW
BEGIN
SET NEW.date_insertion = NOW();
SET NEW.date_modification = NOW();
END |

CREATE TRIGGER before_update_comments BEFORE UPDATE
ON comments FOR EACH ROW
BEGIN
SET NEW.date_modification = NOW();
END |
DELIMITER;